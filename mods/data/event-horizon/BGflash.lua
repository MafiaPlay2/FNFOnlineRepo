function onCreate()

	runTimer('halt', 0.1)
end

function onBeatHit()


	if curBeat == 8 then
		doTweenAlpha('flashFG0', 'fg3', 1.0, 0.2, 'expoOut')
	end
	
	if curBeat == 9 then
		doTweenAlpha('flashFG05', 'fg3', 0.0, 0.8, 'quadInOut')
	end

	if curBeat == 136 then
		doTweenAlpha('flash1', 'bg4', 1.0, 0.2, 'expoOut')
		doTweenAlpha('flashFG1', 'fg3', 1.0, 0.2, 'expoOut')
	end
	
	if curBeat == 137 then
		doTweenAlpha('flash2', 'bg4', 0.0, 0.8, 'quadInOut')
		doTweenAlpha('flashFG2', 'fg3', 0.0, 0.8, 'quadInOut')
	end
	
	if curBeat == 200 then
		doTweenAlpha('flash3', 'bg4', 1.0, 0.2, 'expoOut')
		doTweenAlpha('flashFG3', 'fg3', 1.0, 0.2, 'expoOut')
	end
	
	if curBeat == 201 then
		doTweenAlpha('flash4', 'bg4', 0.0, 0.8, 'quadInOut')
		doTweenAlpha('flashFG4', 'fg3', 0.0, 0.8, 'quadInOut')
	end
	
	if curBeat == 264 then
		doTweenAlpha('flash5', 'bg4', 1.0, 0.2, 'expoOut')
		doTweenAlpha('flashFG5', 'fg3', 1.0, 0.2, 'expoOut')
	end
	
	if curBeat == 265 then
		doTweenAlpha('flash6', 'bg4', 0.0, 0.8, 'quadInOut')
		doTweenAlpha('flashFG6', 'fg3', 0.0, 0.8, 'quadInOut')
	end
	
	if curBeat == 328 then
		doTweenAlpha('flash7', 'bg4', 1.0, 0.2, 'expoOut')
		doTweenAlpha('flashFG7', 'fg3', 1.0, 0.2, 'expoOut')
	end
	
	if curBeat == 329 then
		doTweenAlpha('flash8', 'bg4', 0.0, 0.8, 'quadInOut')
		doTweenAlpha('flashFG8', 'fg3', 0.0, 0.8, 'quadInOut')
	end
	
	if curBeat == 372 then
		doTweenAlpha('flash9', 'bg4', 1.0, 0.2, 'expoOut')
		doTweenAlpha('flashFG9', 'fg3', 1.0, 0.2, 'expoOut')
	end
	
	if curBeat == 373 then
		doTweenAlpha('flash10', 'bg4', 0.0, 0.8, 'quadInOut')
		doTweenAlpha('flashFG10', 'fg3', 0.0, 0.8, 'quadInOut')
	end
	
	if curBeat == 392 then
		doTweenAlpha('flash11', 'bg4', 1.0, 0.2, 'expoOut')
		doTweenAlpha('flashFG11', 'fg3', 1.0, 0.2, 'expoOut')
	end
	
	if curBeat == 393 then
		doTweenAlpha('flash12', 'bg4', 0.0, 0.8, 'quadInOut')
		doTweenAlpha('flashFG12', 'fg3', 0.0, 0.8, 'quadInOut')
	end
	
	if curBeat == 424 then
		doTweenAlpha('flash13', 'bg4', 1.0, 0.2, 'expoOut')
		doTweenAlpha('flashFG13', 'fg3', 1.0, 0.2, 'expoOut')
	end
	
	if curBeat == 425 then
		doTweenAlpha('flash14', 'bg4', 0.0, 0.8, 'quadInOut')
		doTweenAlpha('flashFG14', 'fg3', 0.0, 0.8, 'quadInOut')
	end
	
	if curBeat == 428 then
		doTweenAlpha('flash15', 'bg4', 1.0, 0.2, 'expoOut')
		doTweenAlpha('flashFG15', 'fg3', 1.0, 0.2, 'expoOut')
	end
	
	if curBeat == 429 then
		doTweenAlpha('flash16', 'bg4', 0.0, 0.8, 'quadInOut')
		doTweenAlpha('flashFG16', 'fg3', 0.0, 0.8, 'quadInOut')
	end
	
	if curBeat == 432 then
		doTweenAlpha('flash17', 'bg4', 1.0, 0.2, 'expoOut')
		doTweenAlpha('flashFG17', 'fg3', 1.0, 0.2, 'expoOut')
	end
	
	if curBeat == 433 then
		doTweenAlpha('flash18', 'bg4', 0.0, 0.8, 'quadInOut')
		doTweenAlpha('flashFG18', 'fg3', 0.0, 0.8, 'quadInOut')
	end
	
	if curBeat == 440 then
		doTweenAlpha('flash19', 'bg4', 1.0, 0.2, 'expoOut')
		doTweenAlpha('flashFG19', 'fg3', 1.0, 0.2, 'expoOut')
	end
	
	if curBeat == 441 then
		doTweenAlpha('flash20', 'bg4', 0.0, 0.8, 'quadInOut')
		doTweenAlpha('flashFG20', 'fg3', 0.0, 0.8, 'quadInOut')
	end
	
	if curBeat == 444 then
		doTweenAlpha('flash21', 'bg4', 1.0, 0.2, 'expoOut')
		doTweenAlpha('flashFG21', 'fg3', 1.0, 0.2, 'expoOut')
	end
	
	if curBeat == 445 then
		doTweenAlpha('flash22', 'bg4', 0.0, 0.8, 'quadInOut')
		doTweenAlpha('flashFG22', 'fg3', 0.0, 0.8, 'quadInOut')
	end
	
	if curBeat == 456 then
		doTweenAlpha('flash23', 'bg4', 1.0, 0.2, 'expoOut')
		doTweenAlpha('flashFG23', 'fg3', 1.0, 0.2, 'expoOut')
	end
	
	if curBeat == 464 then
		doTweenAlpha('flash24', 'bg4', 0.0, 0.8, 'quadInOut')
		doTweenAlpha('flashFG24', 'fg3', 0.0, 0.8, 'quadInOut')
	end
end


function onTimerCompleted()
	getProperty('bg4.alpha')
	getPorperty('fg3.alpha')
	
	if ('bg4.alpha') and ('fg3.alpha') > 0 then
		timerReset('halt')
	end
end